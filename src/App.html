<template>
  <div class="nav">
    <router-link to="/">Home</router-link>
    <a
      class="pubkey"
      :href="'#/' + $store.getters.pubKeyHex"
      :title="$store.getters.pubKeyHex"
      >{{ $store.getters.pubKeyHex }}</a
    >
    <form @submit="submitSearch">
      <input v-model="search" />
      <button style="display: none">Search</button>
    </form>
    <router-link to="/setup">Setup</router-link>
  </div>
  <div>
    <router-view />
  </div>
</template>

<script>
  export default {
    data() {
      return {search: ''}
    },
    methods: {
      submitSearch(e) {
        e.preventDefault()
        this.$router.push('/' + this.search)
      }
    }
  }
</script>

<style module>
  .nav {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
  }
  .nav > * {
    margin: 0 10px;
  }
  .pubkey {
    display: inline-block;
    width: 160px;
    text-overflow: ellipsis;
    overflow: hidden;
  }
  a {
    cursor: pointer;
    color: blue;
    text-decoration: underline;
  }
</style>
